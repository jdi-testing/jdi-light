"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[481],{481:(te,M,d)=>{d.r(M),d.d(M,{TreeModule:()=>Ge});var b=d(6895),y=d(6630),t=d(4650),v=d(5017),P=d(4715),E=d(5529),h=d(591),ne=d(1086),j=d(2986),re=d(2198),w=d(7625),x=d(1281),oe=d(445);class J{constructor(){this.expansionModel=new v.Ov(!0)}toggle(o){this.expansionModel.toggle(this._trackByValue(o))}expand(o){this.expansionModel.select(this._trackByValue(o))}collapse(o){this.expansionModel.deselect(this._trackByValue(o))}isExpanded(o){return this.expansionModel.isSelected(this._trackByValue(o))}toggleDescendants(o){this.expansionModel.isSelected(this._trackByValue(o))?this.collapseDescendants(o):this.expandDescendants(o)}collapseAll(){this.expansionModel.clear()}expandDescendants(o){let e=[o];e.push(...this.getDescendants(o)),this.expansionModel.select(...e.map(r=>this._trackByValue(r)))}collapseDescendants(o){let e=[o];e.push(...this.getDescendants(o)),this.expansionModel.deselect(...e.map(r=>this._trackByValue(r)))}_trackByValue(o){return this.trackBy?this.trackBy(o):o}}class k extends J{constructor(o,e,r){super(),this.getLevel=o,this.isExpandable=e,this.options=r,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(o){const r=[];for(let i=this.dataNodes.indexOf(o)+1;i<this.dataNodes.length&&this.getLevel(o)<this.getLevel(this.dataNodes[i]);i++)r.push(this.dataNodes[i]);return r}expandAll(){this.expansionModel.select(...this.dataNodes.map(o=>this._trackByValue(o)))}}class ie extends J{constructor(o,e){super(),this.getChildren=o,this.options=e,this.options&&(this.trackBy=this.options.trackBy)}expandAll(){this.expansionModel.clear();const o=this.dataNodes.reduce((e,r)=>[...e,...this.getDescendants(r),r],[]);this.expansionModel.select(...o.map(e=>this._trackByValue(e)))}getDescendants(o){const e=[];return this._getDescendants(e,o),e.splice(1)}_getDescendants(o,e){o.push(e);const r=this.getChildren(e);Array.isArray(r)?r.forEach(i=>this._getDescendants(o,i)):(0,P.b)(r)&&r.pipe((0,j.q)(1),(0,re.h)(Boolean)).subscribe(i=>{for(const s of i)this._getDescendants(o,s)})}}const S=new t.OlP("CDK_TREE_NODE_OUTLET_NODE");let N=(()=>{class n{constructor(e,r){this.viewContainer=e,this._node=r}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.s_b),t.Y36(S,8))},n.\u0275dir=t.lG2({type:n,selectors:[["","cdkTreeNodeOutlet",""]]}),n})();class se{constructor(o){this.$implicit=o}}let O=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Rgc))},n.\u0275dir=t.lG2({type:n,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),n})(),u=(()=>{class n{get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}constructor(e,r){this._differs=e,this._changeDetectorRef=r,this._onDestroy=new E.xQ,this._levels=new Map,this.viewChange=new h.X({start:0,end:Number.MAX_VALUE})}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const e=this._nodeDefs.filter(r=>!r.when);this._defaultNodeDef=e[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(e){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let e;(0,v.Z9)(this._dataSource)?e=this._dataSource.connect(this):(0,P.b)(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=(0,ne.of)(this._dataSource)),e&&(this._dataSubscription=e.pipe((0,w.R)(this._onDestroy)).subscribe(r=>this.renderNodeChanges(r)))}renderNodeChanges(e,r=this._dataDiffer,i=this._nodeOutlet.viewContainer,s){const a=r.diff(e);a&&(a.forEachOperation((l,D,Z)=>{if(null==l.previousIndex)this.insertNode(e[Z],Z,i,s);else if(null==Z)i.remove(D),this._levels.delete(l.item);else{const Qe=i.get(D);i.move(Qe,Z)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(e,r){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(s=>s.when&&s.when(r,e))||this._defaultNodeDef}insertNode(e,r,i,s){const a=this._getNodeDef(e,r),l=new se(e);l.level=this.treeControl.getLevel?this.treeControl.getLevel(e):typeof s<"u"&&this._levels.has(s)?this._levels.get(s)+1:0,this._levels.set(e,l.level),(i||this._nodeOutlet.viewContainer).createEmbeddedView(a.template,l,r),c.mostRecentTreeNode&&(c.mostRecentTreeNode.data=e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.ZZ4),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cdk-tree"]],contentQueries:function(e,r,i){if(1&e&&t.Suo(i,O,5),2&e){let s;t.iGM(s=t.CRH())&&(r._nodeDefs=s)}},viewQuery:function(e,r){if(1&e&&t.Gf(N,7),2&e){let i;t.iGM(i=t.CRH())&&(r._nodeOutlet=i.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(e,r){1&e&&t.GkF(0,0)},dependencies:[N],encapsulation:2}),n})(),c=(()=>{class n{get role(){return"treeitem"}set role(e){this._elementRef.nativeElement.setAttribute("role",e)}get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}constructor(e,r){this._elementRef=e,this._tree=r,this._destroyed=new E.xQ,this._dataChanges=new E.xQ,n.mostRecentTreeNode=this,this.role="treeitem"}ngOnInit(){this._parentNodeAriaLevel=function ae(n){let o=n.parentElement;for(;o&&!de(o);)o=o.parentElement;return o?o.classList.contains("cdk-nested-tree-node")?(0,x.su)(o.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){n.mostRecentTreeNode===this&&(n.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}}return n.mostRecentTreeNode=null,n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(u))},n.\u0275dir=t.lG2({type:n,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(e,r){2&e&&t.uIk("aria-expanded",r.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),n})();function de(n){const o=n.classList;return!(!o?.contains("cdk-nested-tree-node")&&!o?.contains("cdk-tree"))}let L=(()=>{class n extends c{constructor(e,r,i){super(e,r),this._differs=i}ngAfterContentInit(){this._dataDiffer=this._differs.find([]).create(this._tree.trackBy);const e=this._tree.treeControl.getChildren(this.data);Array.isArray(e)?this.updateChildrenNodes(e):(0,P.b)(e)&&e.pipe((0,w.R)(this._destroyed)).subscribe(r=>this.updateChildrenNodes(r)),this.nodeOutlet.changes.pipe((0,w.R)(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(e){const r=this._getNodeOutlet();e&&(this._children=e),r&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,r.viewContainer,this._data):this._dataDiffer.diff([])}_clear(){const e=this._getNodeOutlet();e&&(e.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){const e=this.nodeOutlet;return e&&e.find(r=>!r._node||r._node===this)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(u),t.Y36(t.ZZ4))},n.\u0275dir=t.lG2({type:n,selectors:[["cdk-nested-tree-node"]],contentQueries:function(e,r,i){if(1&e&&t.Suo(i,N,5),2&e){let s;t.iGM(s=t.CRH())&&(r.nodeOutlet=s)}},hostAttrs:[1,"cdk-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["cdkNestedTreeNode"],features:[t._Bn([{provide:c,useExisting:n},{provide:S,useExisting:n}]),t.qOj]}),n})();const le=/([A-Za-z%]+)$/;let I=(()=>{class n{get level(){return this._level}set level(e){this._setLevelInput(e)}get indent(){return this._indent}set indent(e){this._setIndentInput(e)}constructor(e,r,i,s){this._treeNode=e,this._tree=r,this._element=i,this._dir=s,this._destroyed=new E.xQ,this.indentUnits="px",this._indent=40,this._setPadding(),s&&s.change.pipe((0,w.R)(this._destroyed)).subscribe(()=>this._setPadding(!0)),e._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const e=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,r=null==this._level?e:this._level;return"number"==typeof r?`${r*this._indent}${this.indentUnits}`:null}_setPadding(e=!1){const r=this._paddingIndent();if(r!==this._currentPadding||e){const i=this._element.nativeElement,s=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",a="paddingLeft"===s?"paddingRight":"paddingLeft";i.style[s]=r||"",i.style[a]="",this._currentPadding=r}}_setLevelInput(e){this._level=(0,x.su)(e,null),this._setPadding()}_setIndentInput(e){let r=e,i="px";if("string"==typeof e){const s=e.split(le);r=s[0],i=s[1]||i}this.indentUnits=i,this._indent=(0,x.su)(r),this._setPadding()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c),t.Y36(u),t.Y36(t.SBq),t.Y36(oe.Is,8))},n.\u0275dir=t.lG2({type:n,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:["cdkTreeNodePadding","level"],indent:["cdkTreeNodePaddingIndent","indent"]}}),n})(),B=(()=>{class n{get recursive(){return this._recursive}set recursive(e){this._recursive=(0,x.Ig)(e)}constructor(e,r){this._tree=e,this._treeNode=r,this._recursive=!1}_toggle(e){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),e.stopPropagation()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u),t.Y36(c))},n.\u0275dir=t.lG2({type:n,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(e,r){1&e&&t.NdJ("click",function(s){return r._toggle(s)})},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),n})(),ce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();var A=d(3238),R=d(6787),U=d(4850);const he=(0,A.sb)((0,A.Id)(c));let m=(()=>{class n extends he{constructor(e,r,i){super(e,r),this.tabIndex=Number(i)||0}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(u),t.$8M("tabindex"))},n.\u0275dir=t.lG2({type:n,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["matTreeNode"],features:[t._Bn([{provide:c,useExisting:n}]),t.qOj]}),n})(),f=(()=>{class n extends O{}return n.\u0275fac=function(){let o;return function(r){return(o||(o=t.n5z(n)))(r||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[t._Bn([{provide:O,useExisting:n}]),t.qOj]}),n})(),V=(()=>{class n extends L{get disabled(){return this._disabled}set disabled(e){this._disabled=(0,x.Ig)(e)}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=e??0}constructor(e,r,i,s){super(e,r,i),this._disabled=!1,this.tabIndex=Number(s)||0}ngOnInit(){super.ngOnInit()}ngAfterContentInit(){super.ngAfterContentInit()}ngOnDestroy(){super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(u),t.Y36(t.ZZ4),t.$8M("tabindex"))},n.\u0275dir=t.lG2({type:n,selectors:[["mat-nested-tree-node"]],hostAttrs:[1,"mat-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex",node:["matNestedTreeNode","node"]},exportAs:["matNestedTreeNode"],features:[t._Bn([{provide:L,useExisting:n},{provide:c,useExisting:n},{provide:S,useExisting:n}]),t.qOj]}),n})(),C=(()=>{class n extends I{get level(){return this._level}set level(e){this._setLevelInput(e)}get indent(){return this._indent}set indent(e){this._setIndentInput(e)}}return n.\u0275fac=function(){let o;return function(r){return(o||(o=t.n5z(n)))(r||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["","matTreeNodePadding",""]],inputs:{level:["matTreeNodePadding","level"],indent:["matTreeNodePaddingIndent","indent"]},features:[t._Bn([{provide:I,useExisting:n}]),t.qOj]}),n})(),F=(()=>{class n{constructor(e,r){this.viewContainer=e,this._node=r}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.s_b),t.Y36(S,8))},n.\u0275dir=t.lG2({type:n,selectors:[["","matTreeNodeOutlet",""]],features:[t._Bn([{provide:N,useExisting:n}])]}),n})(),g=(()=>{class n extends u{}return n.\u0275fac=function(){let o;return function(r){return(o||(o=t.n5z(n)))(r||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-tree"]],viewQuery:function(e,r){if(1&e&&t.Gf(F,7),2&e){let i;t.iGM(i=t.CRH())&&(r._nodeOutlet=i.first)}},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[t._Bn([{provide:u,useExisting:n}]),t.qOj],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(e,r){1&e&&t.GkF(0,0)},dependencies:[F],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}"],encapsulation:2}),n})(),_=(()=>{class n extends B{}return n.\u0275fac=function(){let o;return function(r){return(o||(o=t.n5z(n)))(r||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[t._Bn([{provide:B,useExisting:n}]),t.qOj]}),n})(),ue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[ce,A.BQ,A.BQ]}),n})();class Y{constructor(o,e,r,i){this.transformFunction=o,this.getLevel=e,this.isExpandable=r,this.getChildren=i}_flattenNode(o,e,r,i){const s=this.transformFunction(o,e);if(r.push(s),this.isExpandable(s)){const a=this.getChildren(o);a&&(Array.isArray(a)?this._flattenChildren(a,e,r,i):a.pipe((0,j.q)(1)).subscribe(l=>{this._flattenChildren(l,e,r,i)}))}return r}_flattenChildren(o,e,r,i){o.forEach((s,a)=>{let l=i.slice();l.push(a!=o.length-1),this._flattenNode(s,e+1,r,l)})}flattenNodes(o){let e=[];return o.forEach(r=>this._flattenNode(r,0,e,[])),e}expandFlattenedNodes(o,e){let r=[],i=[];return i[0]=!0,o.forEach(s=>{let a=!0;for(let l=0;l<=this.getLevel(s);l++)a=a&&i[l];a&&r.push(s),this.isExpandable(s)&&(i[this.getLevel(s)+1]=e.isExpanded(s))}),r}}class G extends v.o2{get data(){return this._data.value}set data(o){this._data.next(o),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}constructor(o,e,r){super(),this._treeControl=o,this._treeFlattener=e,this._flattenedData=new h.X([]),this._expandedData=new h.X([]),this._data=new h.X([]),r&&(this.data=r)}connect(o){return(0,R.T)(o.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,U.U)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}class pe extends v.o2{constructor(){super(...arguments),this._data=new h.X([])}get data(){return this._data.value}set data(o){this._data.next(o)}connect(o){return(0,R.T)(o.viewChange,this._data).pipe((0,U.U)(()=>this.data))}disconnect(){}}var q=d(6709),p=d(4859),Q=d(9549),$=d(284),T=d(7392);function me(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tree-node",4),t._UZ(1,"button",5),t.TgZ(2,"mat-checkbox",6),t.NdJ("change",function(){const s=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.todoLeafItemSelectionToggle(s))}),t._uU(3),t.qZA()()}if(2&n){const e=o.$implicit,r=t.oxw();t.xp6(2),t.Q6J("checked",r.checklistSelection.isSelected(e)),t.xp6(1),t.Oqu(e.item)}}function fe(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tree-node",7),t._UZ(1,"button",5),t.TgZ(2,"mat-form-field")(3,"mat-label"),t._uU(4,"New item..."),t.qZA(),t._UZ(5,"input",8,9),t.qZA(),t.TgZ(7,"button",10),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.MAs(6),l=t.oxw();return t.KtG(l.saveNode(s,a.value))}),t._uU(8,"Save"),t.qZA()()}}function ge(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tree-node",7)(1,"button",11)(2,"mat-icon",12),t._uU(3),t.qZA()(),t.TgZ(4,"mat-checkbox",13),t.NdJ("change",function(){const s=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.todoItemSelectionToggle(s))}),t._uU(5),t.qZA(),t.TgZ(6,"button",14),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.addNewItem(s))}),t.TgZ(7,"mat-icon"),t._uU(8,"add"),t.qZA()()()}if(2&n){const e=o.$implicit,r=t.oxw();t.xp6(1),t.uIk("aria-label","toggle "+e.filename),t.xp6(2),t.hij(" ",r.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),t.xp6(1),t.Q6J("checked",r.descendantsAllSelected(e))("indeterminate",r.descendantsPartiallySelected(e)),t.xp6(1),t.Oqu(e.item)}}class _e{constructor(){this.item=""}}class Te{constructor(){this.item="",this.expandable=!0}}const ve={Groceries:{"Almond Meal flour":null,"Organic eggs":null,"Protein Powder":null,Fruits:{Apple:null,Berries:["Blueberry","Raspberry"],Orange:null}},Reminders:["Cook dinner","Read the Material Design spec","Upgrade Application to Angular"]};let W=(()=>{class n{get data(){return this.dataChange.value}constructor(){this.dataChange=new h.X([]),this.initialize()}initialize(){const e=this.buildFileTree(ve,0);this.dataChange.next(e)}buildFileTree(e,r){return Object.keys(e).reduce((i,s)=>{const a=e[s],l=new _e;return l.item=s,null!=a&&("object"==typeof a?l.children=this.buildFileTree(a,r+1):l.item=a),i.concat(l)},[])}insertItem(e,r){e.children&&(e.children.push({item:r}),this.dataChange.next(this.data))}updateItem(e,r){e.item=r,this.dataChange.next(this.data)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),xe=(()=>{class n{constructor(e){this._database=e,this.flatNodeMap=new Map,this.nestedNodeMap=new Map,this.selectedParent=null,this.newItemName="",this.checklistSelection=new v.Ov(!0),this.getLevel=r=>r.level,this.isExpandable=r=>r.expandable,this.getChildren=r=>r.children,this.hasChild=(r,i)=>i.expandable,this.hasNoContent=(r,i)=>""===i.item,this.transformer=(r,i)=>{const s=this.nestedNodeMap.get(r),a=s&&s.item===r.item?s:new Te;return a.item=r.item,a.level=i,a.expandable=!!r.children,this.flatNodeMap.set(a,r),this.nestedNodeMap.set(r,a),a},this.treeFlattener=new Y(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new k(this.getLevel,this.isExpandable),this.dataSource=new G(this.treeControl,this.treeFlattener),e.dataChange.subscribe(r=>{this.dataSource.data=r})}descendantsAllSelected(e){return this.treeControl.getDescendants(e).every(s=>this.checklistSelection.isSelected(s))}descendantsPartiallySelected(e){return this.treeControl.getDescendants(e).some(s=>this.checklistSelection.isSelected(s))&&!this.descendantsAllSelected(e)}todoItemSelectionToggle(e){this.checklistSelection.toggle(e);const r=this.treeControl.getDescendants(e);this.checklistSelection.isSelected(e)?this.checklistSelection.select(...r):this.checklistSelection.deselect(...r),r.every(i=>this.checklistSelection.isSelected(i)),this.checkAllParentsSelection(e)}todoLeafItemSelectionToggle(e){this.checklistSelection.toggle(e),this.checkAllParentsSelection(e)}checkAllParentsSelection(e){let r=this.getParentNode(e);for(;r;)this.checkRootNodeSelection(r),r=this.getParentNode(r)}checkRootNodeSelection(e){const r=this.checklistSelection.isSelected(e),s=this.treeControl.getDescendants(e).every(a=>this.checklistSelection.isSelected(a));r&&!s?this.checklistSelection.deselect(e):!r&&s&&this.checklistSelection.select(e)}getParentNode(e){const r=this.getLevel(e);if(r<1)return null;for(let s=this.treeControl.dataNodes.indexOf(e)-1;s>=0;s--){const a=this.treeControl.dataNodes[s];if(this.getLevel(a)<r)return a}return null}addNewItem(e){const r=this.flatNodeMap.get(e);this._database.insertItem(r,""),this.treeControl.expand(e)}saveNode(e,r){const i=this.flatNodeMap.get(e);this._database.updateItem(i,r)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["tree-checklist-example"]],features:[t._Bn([W])],decls:6,vars:4,consts:[[1,"example-h2"],["id","tree-checklist",3,"dataSource","treeControl"],["matTreeNodeToggle","","matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodeToggle","","matTreeNodePadding",""],["mat-icon-button","","disabled",""],[1,"checklist-leaf-node",3,"checked","change"],["matTreeNodePadding",""],["matInput","","placeholder","Ex. Lettuce"],["itemValue",""],["mat-button","",3,"click"],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],[3,"checked","indeterminate","change"],["mat-icon-button","",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"h2",0),t._uU(1,"Tree with checkboxes"),t.qZA(),t.TgZ(2,"mat-tree",1),t.YNc(3,me,4,2,"mat-tree-node",2),t.YNc(4,fe,9,0,"mat-tree-node",3),t.YNc(5,ge,9,5,"mat-tree-node",3),t.qZA()),2&e&&(t.xp6(2),t.Q6J("dataSource",r.dataSource)("treeControl",r.treeControl),t.xp6(2),t.Q6J("matTreeNodeDefWhen",r.hasNoContent),t.xp6(1),t.Q6J("matTreeNodeDefWhen",r.hasChild))},dependencies:[f,C,_,g,m,q.oG,p.lW,p.RK,Q.KE,Q.hX,$.Nt,T.Hw],styles:[".mat-form-field[_ngcontent-%COMP%]{margin-right:4px}"]}),n})();var X=d(3162);function Ne(n,o){if(1&n&&(t.TgZ(0,"mat-tree-node",4),t._UZ(1,"button",5),t._uU(2),t.qZA()),2&n){const e=o.$implicit;t.xp6(2),t.hij(" ",e.item," ")}}function Ce(n,o){1&n&&t._UZ(0,"mat-progress-bar",9)}function De(n,o){if(1&n&&(t.TgZ(0,"mat-tree-node",4)(1,"button",6)(2,"mat-icon",7),t._uU(3),t.qZA()(),t._uU(4),t.YNc(5,Ce,1,0,"mat-progress-bar",8),t.qZA()),2&n){const e=o.$implicit,r=t.oxw();t.xp6(1),t.uIk("aria-label","toggle "+e.filename),t.xp6(2),t.hij(" ",r.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),t.xp6(1),t.hij(" ",e.item," "),t.xp6(1),t.Q6J("ngIf",e.isLoading)}}class H{constructor(o,e=1,r=!1,i=!1){this.item=o,this.level=e,this.expandable=r,this.isLoading=i}}let Me=(()=>{class n{constructor(){this.dataMap=new Map([["Fruits",["Apple","Orange","Banana"]],["Vegetables",["Tomato","Potato","Onion"]],["Apple",["Fuji","Macintosh"]],["Onion",["Yellow","White","Purple"]]]),this.rootLevelNodes=["Fruits","Vegetables"]}initialData(){return this.rootLevelNodes.map(e=>new H(e,0,!0))}getChildren(e){return this.dataMap.get(e)}isExpandable(e){return this.dataMap.has(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class be{get data(){return this.dataChange.value}set data(o){this._treeControl.dataNodes=o,this.dataChange.next(o)}constructor(o,e){this._treeControl=o,this._database=e,this.dataChange=new h.X([])}connect(o){return this._treeControl.expansionModel.changed.subscribe(e=>{(e.added||e.removed)&&this.handleTreeControl(e)}),(0,R.T)(o.viewChange,this.dataChange).pipe((0,U.U)(()=>this.data))}disconnect(o){}handleTreeControl(o){o.added&&o.added.forEach(e=>this.toggleNode(e,!0)),o.removed&&o.removed.slice().reverse().forEach(e=>this.toggleNode(e,!1))}toggleNode(o,e){const r=this._database.getChildren(o.item),i=this.data.indexOf(o);!r||i<0||(o.isLoading=!0,setTimeout(()=>{if(e){const s=r.map(a=>new H(a,o.level+1,this._database.isExpandable(a)));this.data.splice(i+1,0,...s)}else{let s=0;for(let a=i+1;a<this.data.length&&this.data[a].level>o.level;a++,s++);this.data.splice(i+1,s)}this.dataChange.next(this.data),o.isLoading=!1},1e3))}}let ye=(()=>{class n{constructor(e){this.getLevel=r=>r.level,this.isExpandable=r=>r.expandable,this.hasChild=(r,i)=>i.expandable,this.treeControl=new k(this.getLevel,this.isExpandable),this.dataSource=new be(this.treeControl,e),this.dataSource.data=e.initialData()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Me))},n.\u0275cmp=t.Xpm({type:n,selectors:[["tree-dynamic-example"]],decls:5,vars:3,consts:[[1,"example-h2"],["id","tree-dynamic",3,"dataSource","treeControl"],["matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding",""],["mat-icon-button","","disabled",""],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],["mode","indeterminate","class","example-tree-progress-bar",4,"ngIf"],["mode","indeterminate",1,"example-tree-progress-bar"]],template:function(e,r){1&e&&(t.TgZ(0,"h2",0),t._uU(1,"Tree with dynamic data"),t.qZA(),t.TgZ(2,"mat-tree",1),t.YNc(3,Ne,3,1,"mat-tree-node",2),t.YNc(4,De,6,4,"mat-tree-node",3),t.qZA()),2&e&&(t.xp6(2),t.Q6J("dataSource",r.dataSource)("treeControl",r.treeControl),t.xp6(2),t.Q6J("matTreeNodeDefWhen",r.hasChild))},dependencies:[b.O5,f,C,_,g,m,p.RK,T.Hw,X.pW],styles:[".example-tree-progress-bar[_ngcontent-%COMP%]{margin-left:30px}"]}),n})();function Ee(n,o){if(1&n&&(t.TgZ(0,"mat-tree-node",5),t._UZ(1,"button",6),t._uU(2),t.qZA()),2&n){const e=o.$implicit;t.xp6(2),t.hij(" ",e.name," ")}}function we(n,o){if(1&n&&(t.TgZ(0,"mat-tree-node",5)(1,"button",7)(2,"mat-icon",8),t._uU(3),t.qZA()(),t._uU(4),t.qZA()),2&n){const e=o.$implicit,r=t.oxw();t.xp6(1),t.uIk("aria-label","toggle "+e.name),t.xp6(2),t.hij(" ",r.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),t.xp6(1),t.hij(" ",e.name," ")}}const ke=[{name:"Fruit",children:[{name:"Apple"},{name:"Banana"},{name:"Fruit loops"}]},{name:"Vegetables",children:[{name:"Green",children:[{name:"Broccoli"},{name:"Brussels sprouts"}]},{name:"Orange",children:[{name:"Pumpkins"},{name:"Carrots"}]}]}];let Se=(()=>{class n{constructor(){this._transformer=(e,r)=>({expandable:!!e.children&&e.children.length>0,name:e.name,level:r}),this.treeControl=new k(e=>e.level,e=>e.expandable),this.treeFlattener=new Y(this._transformer,e=>e.level,e=>e.expandable,e=>e.children),this.dataSource=new G(this.treeControl,this.treeFlattener),this.hasChild=(e,r)=>r.expandable,this.dataSource.data=ke}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["tree-flat-overview-example"]],decls:6,vars:3,consts:[[1,"example-h2"],["href","https://material.angular.io/components/tree/overview#flat-tree"],["id","tree-flat",3,"dataSource","treeControl"],["matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding",""],["mat-icon-button","","disabled",""],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(e,r){1&e&&(t.TgZ(0,"h2",0)(1,"a",1),t._uU(2," Tree with flat nodes "),t.qZA()(),t.TgZ(3,"mat-tree",2),t.YNc(4,Ee,3,1,"mat-tree-node",3),t.YNc(5,we,5,3,"mat-tree-node",4),t.qZA()),2&e&&(t.xp6(3),t.Q6J("dataSource",r.dataSource)("treeControl",r.treeControl),t.xp6(2),t.Q6J("matTreeNodeDefWhen",r.hasChild))},dependencies:[f,C,_,g,m,p.RK,T.Hw]}),n})();function Oe(n,o){if(1&n&&(t.TgZ(0,"mat-tree-node",5),t._UZ(1,"button",6),t._uU(2),t.qZA()),2&n){const e=o.$implicit;t.xp6(2),t.hij(" ",e.item," ")}}function Ae(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tree-node",5)(1,"button",7),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.loadChildren(s))}),t.TgZ(2,"mat-icon",8),t._uU(3),t.qZA()(),t._uU(4),t.qZA()}if(2&n){const e=o.$implicit,r=t.oxw();t.xp6(1),t.uIk("aria-label","toggle "+e.filename),t.xp6(2),t.hij(" ",r.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),t.xp6(1),t.hij(" ",e.item," ")}}function Fe(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tree-node")(1,"button",9),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.loadMore(s.loadMoreParentItem))}),t._uU(2," Load more... "),t.qZA()()}}const z="LOAD_MORE";class K{get children(){return this.childrenChange.value}constructor(o,e=!1,r=null){this.item=o,this.hasChildren=e,this.loadMoreParentItem=r,this.childrenChange=new h.X([])}}class Ze{constructor(o,e=1,r=!1,i=null){this.item=o,this.level=e,this.expandable=r,this.loadMoreParentItem=i}}let ee=(()=>{class n{constructor(){this.batchNumber=5,this.dataChange=new h.X([]),this.nodeMap=new Map,this.rootLevelNodes=["Vegetables","Fruits"],this.dataMap=new Map([["Fruits",["Apple","Orange","Banana"]],["Vegetables",["Tomato","Potato","Onion"]],["Apple",["Fuji","Macintosh"]],["Onion",["Yellow","White","Purple","Green","Shallot","Sweet","Red","Leek"]]])}initialize(){const e=this.rootLevelNodes.map(r=>this._generateNode(r));this.dataChange.next(e)}loadMore(e,r=!1){if(!this.nodeMap.has(e)||!this.dataMap.has(e))return;const i=this.nodeMap.get(e),s=this.dataMap.get(e);if(r&&i.children.length>0)return;const a=i.children.length+this.batchNumber,l=s.slice(0,a).map(D=>this._generateNode(D));a<s.length&&l.push(new K(z,!1,e)),i.childrenChange.next(l),this.dataChange.next(this.dataChange.value)}_generateNode(e){if(this.nodeMap.has(e))return this.nodeMap.get(e);const r=new K(e,this.dataMap.has(e));return this.nodeMap.set(e,r),r}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n{constructor(e){this._database=e,this.nodeMap=new Map,this.getChildren=r=>r.childrenChange,this.transformer=(r,i)=>{const s=this.nodeMap.get(r.item);if(s)return s;const a=new Ze(r.item,i,r.hasChildren,r.loadMoreParentItem);return this.nodeMap.set(r.item,a),a},this.getLevel=r=>r.level,this.isExpandable=r=>r.expandable,this.hasChild=(r,i)=>i.expandable,this.isLoadMore=(r,i)=>i.item===z,this.treeFlattener=new Y(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new k(this.getLevel,this.isExpandable),this.dataSource=new G(this.treeControl,this.treeFlattener),e.dataChange.subscribe(r=>{this.dataSource.data=r}),e.initialize()}loadMore(e){this._database.loadMore(e)}loadChildren(e){this._database.loadMore(e.item,!0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ee))},n.\u0275cmp=t.Xpm({type:n,selectors:[["tree-loadmore-example"]],features:[t._Bn([ee])],decls:6,vars:4,consts:[[1,"example-h2"],[3,"dataSource","treeControl"],["matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding",""],["mat-icon-button","","disabled",""],["mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["mat-button","",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"h2",0),t._uU(1,"Tree with partially loaded data"),t.qZA(),t.TgZ(2,"mat-tree",1),t.YNc(3,Oe,3,1,"mat-tree-node",2),t.YNc(4,Ae,5,3,"mat-tree-node",3),t.YNc(5,Fe,3,0,"mat-tree-node",4),t.qZA()),2&e&&(t.xp6(2),t.Q6J("dataSource",r.dataSource)("treeControl",r.treeControl),t.xp6(2),t.Q6J("matTreeNodeDefWhen",r.hasChild),t.xp6(1),t.Q6J("matTreeNodeDefWhen",r.isLoadMore))},dependencies:[f,C,_,g,m,p.lW,p.RK,T.Hw]}),n})();function Le(n,o){if(1&n&&(t.TgZ(0,"mat-tree-node",5)(1,"li",6),t._UZ(2,"button",7),t._uU(3),t.qZA()()),2&n){const e=o.$implicit;t.xp6(3),t.hij(" ",e.name," ")}}function Ie(n,o){if(1&n&&(t.TgZ(0,"mat-nested-tree-node")(1,"li")(2,"div",6)(3,"button",8)(4,"mat-icon",9),t._uU(5),t.qZA()(),t._uU(6),t.qZA(),t.TgZ(7,"ul"),t.GkF(8,10),t.qZA()()()),2&n){const e=o.$implicit,r=t.oxw();t.xp6(3),t.uIk("aria-label","toggle "+e.name),t.xp6(2),t.hij(" ",r.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),t.xp6(1),t.hij(" ",e.name," "),t.xp6(1),t.ekj("example-tree-invisible",!r.treeControl.isExpanded(e))}}const Be=[{name:"Fruit",children:[{name:"Apple"},{name:"Banana"},{name:"Fruit loops"}]},{name:"Vegetables",children:[{name:"Green",children:[{name:"Broccoli"},{name:"Brussels sprouts"}]},{name:"Orange",children:[{name:"Pumpkins"},{name:"Carrots"}]}]}];let Re=(()=>{class n{constructor(){this.treeControl=new ie(e=>e.children),this.dataSource=new pe,this.hasChild=(e,r)=>!!r.children&&r.children.length>0,this.dataSource.data=Be}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["tree-nested-overview-example"]],decls:6,vars:3,consts:[[1,"example-h2"],["href","https://material.angular.io/components/tree/overview#nested-tree"],[1,"example-tree",3,"dataSource","treeControl"],["matTreeNodeToggle","",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodeToggle",""],[1,"mat-tree-node"],["mat-icon-button","","disabled",""],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(e,r){1&e&&(t.TgZ(0,"h2",0)(1,"a",1),t._uU(2," Tree with nested nodes "),t.qZA()(),t.TgZ(3,"mat-tree",2),t.YNc(4,Le,4,1,"mat-tree-node",3),t.YNc(5,Ie,9,5,"mat-nested-tree-node",4),t.qZA()),2&e&&(t.xp6(3),t.Q6J("dataSource",r.dataSource)("treeControl",r.treeControl),t.xp6(2),t.Q6J("matTreeNodeDefWhen",r.hasChild))},dependencies:[V,f,_,g,m,F,p.RK,T.Hw],styles:[".example-tree-invisible[_ngcontent-%COMP%]{display:none}.example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;padding-left:20px;list-style-type:none}"]}),n})();const Ue=[{path:"",component:(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-tree"]],decls:5,vars:0,template:function(e,r){1&e&&t._UZ(0,"tree-checklist-example")(1,"tree-dynamic-example")(2,"tree-flat-overview-example")(3,"tree-loadmore-example")(4,"tree-nested-overview-example")},dependencies:[xe,ye,Se,Pe,Re],encapsulation:2}),n})()}];let Ye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[y.Bz.forChild(Ue),y.Bz]}),n})(),Ge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[b.ez,Ye,ue,q.p9,p.ot,Q.lN,$.c,T.Ps,X.Cv]}),n})()},4715:(te,M,d)=>{d.d(M,{b:()=>y});var b=d(6498);function y(t){return!!t&&(t instanceof b.y||"function"==typeof t.lift&&"function"==typeof t.subscribe)}}}]);